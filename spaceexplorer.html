<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Space Explorer</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: black;
      color: white;
    }
    canvas#stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }
    .container {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      text-align: center;
      flex-direction: column;
      padding: 20px;
      box-sizing: border-box;
    }

    /* Trang 1 */
    .game-font {
      font-family: 'Orbitron', sans-serif;
      font-weight: bold;
      color: cyan;
      text-shadow: 0 0 10px cyan, 0 0 20px blue;
    }
    .title {
      font-size: clamp(36px, 8vw, 72px);
      margin-bottom: 40px;
    }
    .press-start {
      font-size: clamp(18px, 4vw, 32px);
      border: 3px solid cyan;
      padding: 15px 30px;
      animation: blink 0.8s step-start infinite;
      cursor: pointer;
    }
    @keyframes blink {
      50% { opacity: 0; }
    }

    /* Trang 2 */
    .menu-font {
      font-family: Arial, sans-serif;
      font-weight: bold;
      color: cyan;
      text-shadow: 0 0 10px cyan, 0 0 20px blue;
      font-size: clamp(16px, 3.5vw, 28px);
    }
    .menu-box {
      border: 3px solid cyan;
      padding: 15px;
      margin: 10px;
      width: fit-content;
      min-width: 250px;
      transition: background 0.3s, color 0.3s;
    }
    .menu-box:hover {
      background: cyan;
      color: black;
    }

    /* Trang 3–16 */
    .type-font {
      font-family: 'Courier New', monospace;
      color: white;
      text-shadow: 0 0 10px #fff, 0 0 20px #aaa;
      font-size: clamp(14px, 3.5vw, 20px);
      line-height: 1.6;
      max-width: 850px;
      padding: 0 15px;
    }

    /* Note */
    .note {
      position: fixed;
      bottom: 20px;
      width: 100%;
      text-align: center;
      font-size: clamp(12px, 3vw, 16px);
      font-family: 'Courier New', monospace;
      color: #bbb;
    }
  </style>
</head>
<body>
  <canvas id="stars"></canvas>
  <div id="content" class="container"></div>
  <div id="note" class="note" style="display:none;">Bấm trái: quay lại / Bấm phải: Chuyển trang</div>

  <!-- Giữ lại nhạc nền GitHub, phát từ page 3 -->
  <audio id="bg-music" loop>
    <source src="https://github.com/vietduygiapdz/spaceexplorer/blob/7d143fec2a8712787b292473c5bf120d22f49341/SOOBIN%20-%20Dancing%20In%20The%20Dark%20%20'BA%CC%A3%CC%82T%20NO%CC%81%20LE%CC%82N'%20Album%20(Official%20MV)%20-%20SOOBIN%20Official.mp3?raw=true" type="audio/mpeg">
  </audio>

  <script>
    const pages = [
      { html: `<div class="game-font title">SPACE EXPLORER</div><div class="game-font press-start">PRESS START</div>` },
      { html: `<div class="menu-font">Hướng dẫn chi tiết:</div>
               <div class="menu-font menu-box">Bấm sang trái để quay lại giao diện chính</div>
               <div class="menu-font menu-box">Bấm sang phải để sang mục tiếp theo</div>` },
      { text: "Thật ra không có tựa game nào đâu. Chào mừng cậu đã tới với \"khoảng trời\" của tớ, Diệu Linh." },
      { text: "Như này cũng hơi lạ, và hơi đột ngột nhỉ. Tớ biết bình thường tớ và cậu sẽ không bao giờ xưng hô và nói chuyện theo kiểu này đâu." },
      { text: "Thật ra tớ đã định viết những dòng này thành thư tay rồi bỏ chung với món quà hôm trước mà tớ đưa cho cậu rồi. Nhưng vì hôm đó tay tớ hơi không ổn nên tớ chẳng kịp chuẩn bị bức thư tay nào cả. Nên là, tớ nghĩ việc tự làm một trang web nhỏ như này cũng sẽ khá ý nghĩa đó chứ, ít nhất là hơn vài dòng tin nhắn khô khan, nhỉ?" },
      { text: "Dù sao thì, đây cũng là một vài cảm xúc của tớ thôi. Tớ thậm chí cũng chẳng rõ đây có phải là cảm xúc nhất thời hay không nữa. Tớ chỉ biết hiện tại tớ đang thích cậu." },
      { text: "Thành thật mà nói, cậu là người giúp tớ Move on sau mối quan hệ kia nhanh như vậy, giúp tớ ổn định cảm xúc hơn rất nhiều, là người lắng nghe những chuyện mà tớ vốn chẳng biết nói với ai. Nói sao nhỉ, có lẽ cậu là người quan trọng nhất và thân nhất với tớ từ lúc tớ xuống đại học tới giờ, nhất là khi tớ vừa trải qua kha khá chuyện không vui nữa." },
      { text: "Đó là lí do tớ cảm thấy cậu rất tuyệt vời. Kiểu, sao nhỉ, một người dễ nói chuyện và biết lắng nghe, cởi mở, thân thiện, sẵn sàng chửi vào mặt tớ mỗi lúc tớ làm hành động gì đó ngu ngu, và cũng khá hào phóng với mọi người. Cậu cũng cũng vô cùng vô cùng giỏi nữa. Dẫu vậy thì, tớ biết là mỗi người đều có những muộn phiền, những tâm sự riêng dù cho họ có như nào đi chăng nữa. Nên nếu có vấn đề gì cậu có thể nói với tớ cũng được, nhe." },
      { text: "Về bản thân tớ, tớ biết mình còn nhiều thiếu sót, cả về ngoại hình nè, rồi điều kiện tài chính, vân vân và mây mây. Tớ cũng khá tiêu cực, nghĩ nhiều và tự ti về những điều đó chứ. Đôi khi tớ cảm giác là nếu có phép màu nào đó giúp tớ làm nên chuyện thì tớ cũng sẽ không đủ khả năng để giữ cậu ở bên mình, ít nhất là trong thời điểm hiện tại." },
      { text: "Đó là lí do mà tớ vẫn luôn cố gắng nè. Cố gắng học tốt hơn. Cố gắng để ngoại hình mình trông ổn áp hơn. Cố gắng để có một công việc ít nhất là ổn định trong thời điểm hiện tại. Cố gắng để tích cực hơn, ít khóc hơn, yêu đời hơn. Thành thật mà nói, tớ chưa dám mơ tới việc tớ sẽ sớm trở nên \"xứng đáng\" với cậu, nhưng tớ vẫn cố gắng để ít nhất là cậu, và cả tớ, có thể nhìn thấy rằng tớ đã thay đổi tích cực và tiến bộ theo thời gian, hứa đó." },
      { text: "Và, nói sao nhỉ, tớ biết là tớ vốn chẳng lọt vào mắt xanh của cậu từ đầu, và có lẽ cậu cũng đang để ý người khác rồi thì phải. Nếu nói không buồn vì việc đó thì sẽ là nói dối đấy. Nhưng, đâu phải cái gì cũng sẽ theo ý mình được, đúng không?" },
      { text: "Nhưng mà, tớ vẫn cứ tiếp tục vậy thôi, tới khi nào cậu thực sự có ai đ ở cạnh, hoặc cậu không còn cảm xúc gì với tớ nữa, tớ vẫn sẽ tiếp tục, vì tớ vốn nặng tình và cố chấp mà. Nên tớ vẫn mong là tớ vẫn có thể take care được cho cậu hết khả năng của mình, vẫn có thể được cậu để tâm dù chỉ một chút, vẫn có thể để lại cho cậu một ấn tượng gì đó tích cực về bản thân mình nè." },
      { text: "Chỉ là, nếu cậu đang thực sự để tâm ai đó chẳng hạn, hay chỉ đơn giản là cảm thấy việc tớ cứ take care như thế hơi phiền, hoặc tớ có làm gì khiến cậu khó chịu, hoặc sao đó, thì cậu cứ nói với tớ nhe. Vì dù gì thì, tớ cũng muốn được nhìn thấy cậu vui vẻ và hạnh phúc, dù cho tớ có thể không phải là người làm được điều đó. Với lại, tớ cũng là người biết và dễ sửa đổi nữa, chắc vậy=))" },
      { text: "Nói vậy chứ tớ vẫn mong là mình sẽ có một cơ hội nào đó, dù chỉ là nhỏ nhất. Nên là, nếu có bất kì điều gì cậu muốn tâm sự, hay có điều gì mà tớ có thể giúp được thì cậu cứ nói nhe, vì tớ vẫn sẽ ở đây và giúp cậu hết khả năng của mình, vậy nên đừng ngại nhé." },
      { text: "Cảm ơn cậu vì đã xuất hiện trong cuộc đời của tớ. Dù mọi chuyện có đi tới đâu, tớ cũng sẽ không bao giờ hối hận vì lựa chọn của mình, vì tớ đã dám nói ra những điều tớ nghĩ, và vì tớ đã thích đúng người tuyệt vời như cậu. Mong là dù có ra sao, tớ vẫn có thể giữ được mối quan hệ này lâu nhất có thể." },
      { text: "Cảm ơn cậu rất nhiều vì tất cả mọi thứ, và cảm ơn cậu vì đã đọc những dòng bộc bạch này. Chúc cậu một ngày tốt lành. Và tớ là Việt Duy :>" }
    ];

    let currentPage = 0;
    const contentDiv = document.getElementById('content');
    const noteDiv = document.getElementById('note');
    const audio = document.getElementById('bg-music');

    function showPage(index) {
      contentDiv.innerHTML = '';
      noteDiv.style.display = 'none';
      const page = pages[index];

      if (page.html) {
        contentDiv.innerHTML = page.html;

        // PRESS START sang trang 2
        if (index === 0) {
          const pressStart = document.querySelector('.press-start');
          if (pressStart) {
            pressStart.addEventListener('click', (e) => {
              e.stopPropagation();
              currentPage = 1;
              showPage(currentPage);
            });
          }
        }

      } else if (page.text) {
        const textDiv = document.createElement('div');
        textDiv.className = 'type-font';
        contentDiv.appendChild(textDiv);
        let i = 0;
        function typeWriter() {
          if (i < page.text.length) {
            textDiv.textContent += page.text.charAt(i);
            i++;
            setTimeout(typeWriter, 36);
          }
        }
        typeWriter();
        noteDiv.style.display = 'block';

        // ✅ Phát nhạc khi tới trang 3
        if (index === 2 && audio.paused) {
          audio.play().catch(err => console.log("Autoplay bị chặn:", err));
        }
      }
    }

    document.body.addEventListener('click', function(e) {
      if (e.target.classList.contains('press-start')) return; 
      if (e.clientX < window.innerWidth / 2) {
        if (currentPage > 0) currentPage--;
      } else {
        if (currentPage < pages.length - 1) currentPage++;
      }
      showPage(currentPage);
    });

    showPage(currentPage);

    // Background sao
    const canvas = document.getElementById('stars');
    const ctx = canvas.getContext('2d');
    let stars = [];

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      stars = Array.from({length: 200}, () => ({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        r: Math.random() * 2,
        d: Math.random() * 0.5,
        o: Math.random() * 0.4 + 0.2 
      }));
    }

    function drawStars() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      stars.forEach(s => {
        ctx.fillStyle = `rgba(255,255,255,${s.o})`;
        ctx.beginPath();
        ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
        ctx.fill();
      });
      updateStars();
    }

    function updateStars() {
      stars.forEach(s => {
        s.y += s.d;
        if (s.y > canvas.height) {
          s.y = 0;
          s.x = Math.random() * canvas.width;
        }
      });
    }

    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);
    setInterval(drawStars, 50);
  </script>
</body>
</html>
